
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wordle | America's #1 Free Word Puzzle Game - Play Daily</title>
    <meta
      name="description"
      content="Play Wordle free online! America's #1 word puzzle game. Join millions of US players in this daily challenge. Guess the word, compete with friends. No download!"
    />
    <meta name="keywords" content="Wordle free USA, American word puzzle game, free Wordle online United States, daily word challenge US, vocabulary games America, word guessing game" />
    <meta name="robots" content="index,follow" />
    <link rel="canonical" href="https://gameist.fun/wordle/index.html" />
    <meta property="og:site_name" content="Gameist" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Wordle | America's #1 Free Word Puzzle Game - Play Daily" />
    <meta property="og:description" content="America's favorite word puzzle! Join millions of US players in this daily challenge. Guess the word, compete with friends. Play free online!" />
    <meta property="og:url" content="https://gameist.fun/wordle/index.html" />
    <meta property="og:image" content="https://gameist.fun/wordle/wordle-usa.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Wordle | America's #1 Free Word Puzzle Game" />
    <meta name="twitter:description" content="America's favorite word puzzle! Join millions of US players in this daily challenge. Guess the word, compete with friends. Play free!" />
    <meta name="twitter:image" content="https://gameist.fun/wordle/wordle-usa.jpg" />
    <meta name="twitter:site" content="@GameistHQ" />
    <meta name="twitter:creator" content="@GameistHQ" />
    <meta name="geo.region" content="US-NY" />
    <meta name="geo.placename" content="New York, United States" />
    <meta name="geo.position" content="40.7128;-74.0060" />
    <meta name="ICBM" content="40.7128, -74.0060" />
    <meta name="distribution" content="US" />
    <meta name="country" content="United States" />
    <link rel="alternate" hreflang="en-US" href="https://gameist.fun/wordle/index.html" />
    <link rel="alternate" hreflang="en" href="https://gameist.fun/wordle/index.html" />
    <link rel="alternate" hreflang="x-default" href="https://gameist.fun/wordle/index.html" />
    
    <!-- Game Schema Markup for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "Wordle - Free Word Puzzle Game",
      "description": "Play Wordle free online! Challenge your vocabulary with this addictive word puzzle. Guess the hidden 5-letter word in 6 tries. No download required!",
      "genre": ["Word Game", "Puzzle", "Brain Training", "Educational"],
      "gamePlatform": ["Web Browser"],
      "operatingSystem": "Any",
      "applicationCategory": "Game",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.5",
        "ratingCount": "950",
        "bestRating": "5",
        "worstRating": "1"
      },
      "author": {
        "@type": "Organization",
        "name": "Gameist"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Gameist"
      },
      "keywords": "Wordle, word puzzle, word game, vocabulary game, brain training, daily word challenge",
      "playMode": "SinglePlayer",
      "featureList": ["No Download", "Daily Challenge", "Vocabulary Building", "Brain Training", "Browser Game"]
    }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Wordlist - Gameist",
        "url": "https://gameist.fun/wordle/index.html",
        "isPartOf": {
          "@type": "WebSite",
          "name": "Gameist",
          "url": "https://gameist.fun/"
        }
      }
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-57L2NFVJYL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-57L2NFVJYL');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9478711342689131"
         crossorigin="anonymous"></script>
    <link rel="icon" href="./wordlist.png" type="image/png" />
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#121213" />
    <link rel="stylesheet" href="style.css" />
      <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>

  
  <body>
   

     <div id="gameContainer">

        <div id="mainMenu" class="screen">
            <div class="menu-header">
                <h1>
                    <i class="fas fa-brain"></i>
                    <span data-lang="title">Wordlist - Wordle oyunu</span>
                </h1>
                <div class="menu-controls">
                    <button id="themeToggle" class="control-icon" title="Dark/Light Mode">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>

            <!-- Banner Ad -->
            <div style="display: flex; justify-content: center; margin: 15px 0;">
                <script>
                    atOptions = {
                        'key' : 'ce673f1e09efadddcb7e75ee9d586e4a',
                        'format' : 'iframe',
                        'height' : 50,
                        'width' : 320,
                        'params' : {}
                    };
                </script>
                <script src="https://www.highperformanceformat.com/ce673f1e09efadddcb7e75ee9d586e4a/invoke.js"></script>
            </div>

            <div class="menu-buttons">
                <button id="startGame" class="menu-btn primary" onclick="startWordleGame()">
                    <i class="fas fa-play"></i>
                    <span data-lang="startGame">Oyuna Ba≈üla</span>
                </button>
                <button id="showSettings" class="menu-btn settings" onclick="showSettingsScreen()">
                    <i class="fas fa-cog"></i>
                    <span data-lang="settings">Ayarlar</span>
                </button>
                <button id="showRules" class="menu-btn secondary" onclick="showRulesScreen()">
                    <i class="fas fa-book"></i>
                    <span data-lang="rules">Kurallar</span>
                </button>
                
                <button id="quitGame" class="menu-btn danger">
                    <i class="fas fa-power-off"></i>
                    <span data-lang="quitGame">Oyunu Kapat</span>
                </button>

                <button id="backToHub" class="menu-btn secondary">
                    <i class="fas fa-home"></i>
                    <span id="backToHubText" data-lang="backToMenu">Ana Men√ºye D√∂n</span>
                </button>
            </div>

        <div class="brand">
          <h3 class="brand-name"><span class="brand-accent">242</span> Games</h3>
          <p class="brand-tagline" data-lang="tagline">Akƒ±l Oyunlarƒ± ve Daha Fazlasƒ±</p>
        </div>
        <!-- Buy Me a Coffee Banner -->
        <div style="position: fixed; bottom: 10px; right: 10px; z-index: 1000; opacity: 0.6; transition: opacity 0.3s ease;" 
             onmouseover="this.style.opacity='1'" 
             onmouseout="this.style.opacity='0.6'">
          <a href="https://buymeacoffee.com/gameist" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
            <img src="../assets/buymeacoffee.png" alt="Buy Me a Coffee" style="width: 100px; height: auto; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
          </a>
        </div>
        </div>
    <div id="wordleGameScreen" class="screen hidden">
      <h1 class="oyunicih1"><span data-lang="gameTitle">Wordlist Kelime Tahmin Oyunu</span></h1>
      <p id="message"></p>

      <!-- Hidden input for mobile keyboard -->
      <input type="text" id="wordleInput" style="
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        pointer-events: none;
        z-index: -1;
        font-size: 16px;
      " autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">

      <!-- Prevent scroll styles -->
      <style>
        #wordleGameScreen {
          overflow: hidden;
          position: relative;
          height: 100vh;
        }
        
        #game-board {
          overflow: hidden;
        }
        
        /* Allow scroll only for specific cases */
        #gameMenuModal {
          overflow-y: auto;
        }
        
        /* Prevent input from causing scroll */
        #wordleInput {
          position: fixed !important;
          top: 50% !important;
          left: 50% !important;
          transform: translate(-50%, -50%) !important;
        }
      </style>

      <div id="game-board" onclick="focusWordleInput()">
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
        <div class="row">
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
          <div class="tile"></div>
        </div>
      </div>

      <!-- Mobile keyboard removed - using native keyboard -->
      <div id="keyboard" style="display: none;">
        <!-- Keyboard content hidden -->
      </div>
      
      <!-- Mobile keyboard controls -->
      <div style="text-align: center; margin: 10px 0; display: none;" id="mobileControls">
        <button onclick="focusWordleInput()" style="
          background: linear-gradient(45deg, #667eea, #764ba2);
          color: white;
          border: none;
          padding: 12px 24px;
          border-radius: 25px;
          font-size: 16px;
          font-weight: bold;
          cursor: pointer;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        ">üì± Klavyeyi A√ß</button>
      </div>
   
<!-- Modal ta≈üƒ±ndƒ±: Artƒ±k body sonunda -->

      </div>
      

    </div>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="../auth-component.js?v=2"></script>
    
    <script>
      // Firebase Configuration
      const firebaseConfig = {
        apiKey: "AIzaSyD7ckcqdZWfnUx5r8uKmvu9Ikax1x5Qidk",
        authDomain: "gameist.firebaseapp.com",
        projectId: "gameist",
        storageBucket: "gameist.firebasestorage.app",
        messagingSenderId: "525659299937",
        appId: "1:525659299937:web:1c8343a25be2a994bcca20",
        measurementId: "G-WE9R0GWKM6",
        databaseURL: "https://gameist-default-rtdb.firebaseio.com/"
      };
      firebase.initializeApp(firebaseConfig);
      
      // Wordle Cross-Device Sync
      let wordleAuth;
      
      // Initialize auth when game loads
      window.addEventListener('load', () => {
        setTimeout(() => {
          if (window.gameistAuth) {
            wordleAuth = window.gameistAuth;
            console.log('üî• Wordle Cross-Device Sync initialized');
            setupWordleSync();
          }
        }, 1000);
      });
      
      function setupWordleSync() {
        // Listen for game end events
        const originalEndGame = window.endGame;
        if (originalEndGame) {
          window.endGame = function() {
            const result = originalEndGame.apply(this, arguments);
            
            // Calculate score based on wins/losses
            const stats = JSON.parse(localStorage.getItem('statistics') || '{}');
            const score = (stats.wins || 0) * 1000 - (stats.losses || 0) * 100;
            
            if (score > 0 && wordleAuth) {
              saveWordleScoreToRealtime(score);
            }
            
            return result;
          };
        }
        
        // Also check for game completion periodically
        setInterval(() => {
          if (wordleAuth) {
            const stats = JSON.parse(localStorage.getItem('statistics') || '{}');
            const totalGames = (stats.wins || 0) + (stats.losses || 0);
            const lastSyncedGames = localStorage.getItem('wordle_last_synced_games') || 0;
            
            if (totalGames > parseInt(lastSyncedGames)) {
              const score = (stats.wins || 0) * 1000 - (stats.losses || 0) * 100;
              saveWordleScoreToRealtime(score);
            }
          }
        }, 5000);
      }
      
      async function saveWordleScoreToRealtime(score) {
        try {
          const user = firebase.auth().currentUser;
          if (!user) return;
          
          console.log('üíæ Saving Wordle score to Realtime Database:', score);
          
          const database = firebase.database();
          const userScoresRef = database.ref(`userScores/${user.uid}`);
          const newScoreRef = userScoresRef.push();
          
          const stats = JSON.parse(localStorage.getItem('statistics') || '{}');
          
          await newScoreRef.set({
            userId: user.uid,
            displayName: user.displayName,
            email: user.email,
            score: score,
            game: 'wordlist',
            timestamp: Date.now(),
            wins: stats.wins || 0,
            losses: stats.losses || 0,
            fromWordle: true
          });
          
          const totalGames = (stats.wins || 0) + (stats.losses || 0);
          localStorage.setItem('wordle_last_synced_games', totalGames);
          console.log('‚úÖ Wordle score saved to Realtime Database');
          
          // Notify main menu
          try {
            const channel = new BroadcastChannel('gameist_stats');
            channel.postMessage({
              type: 'statsUpdate',
              userId: user.uid,
              game: 'wordlist',
              score: score,
              timestamp: Date.now(),
              firestoreSuccess: true
            });
          } catch (error) {
            console.log('BroadcastChannel not available');
          }
          
        } catch (error) {
          console.error('‚ùå Error saving Wordle score:', error);
        }
      }
    </script>

    <script>
      (function () {
        const btn = document.getElementById("backToHub");
        if (!btn) return;

        btn.addEventListener("click", function (e) {
          try {
            e.preventDefault();
          } catch (_) {}
          window.location.href = "../index.html";
        });
      })();
    </script>

    <script>
      (function () {
        function updateTrOnlyKeys() {
          const langEl = document.getElementById('currentLang');
          const isTr = !!langEl && String(langEl.textContent || '').trim().toUpperCase() === 'TR';
          document.querySelectorAll('.tr-only').forEach((el) => {
            try { el.style.display = isTr ? '' : 'none'; } catch (_) {}
          });
        }

        try { updateTrOnlyKeys(); } catch (_) {}
        try {
          const toggle = document.getElementById('languageToggle');
          if (toggle) toggle.addEventListener('click', updateTrOnlyKeys, true);
        } catch (_) {}
        try {
          const langEl = document.getElementById('currentLang');
          if (langEl && 'MutationObserver' in window) {
            const mo = new MutationObserver(updateTrOnlyKeys);
            mo.observe(langEl, { childList: true, characterData: true, subtree: true });
          }
        } catch (_) {}
      })();
    </script>
    <!-- <script> 
      const text = "11 AYIN SULTANI RAMAZANI G√ñN√úLDEN KUTLUYORUZ";
      const typingElement = document.querySelector(".typing");
      let index = 0;
      let isWriting = true;

      function typeEffect() {
        if (isWriting) {
          typingElement.textContent = text.slice(0, index++);
          if (index > text.length) {
            isWriting = false;
            setTimeout(() => {
              typingElement.textContent = "";
              index = 0;
              isWriting = true;
              setTimeout(typeEffect, 500);
            }, 8000);
            return;
          }
        }
        setTimeout(typeEffect, 100);
      }
      typeEffect();
      const keys = document.querySelectorAll("#keyboard button");
      const inputField = document.getElementById("mobile-input");

      keys.forEach((key) => {
        key.addEventListener("click", function () {
          inputField.value += key.textContent;
        });
      // }); 

      const backspaceButton = document.querySelector(
        ".wide-button:nth-of-type(2)"
      );
      backspaceButton.addEventListener("click", function () {
        inputField.value = inputField.value.slice(0, -1);
      });

      const enterButton = document.querySelector(".wide-button:nth-of-type(1)"); // ENTER tu≈üu
      enterButton.addEventListener("click", function () {
        console.log(inputField.value);
      });

      function openKeyboard() {
        document.getElementById("keyboard").style.display = "flex";
        document.body.style.overflow = "hidden";
        inputField.style.display = "inline-block";
      } -->
    
    <div id="settingsScreen" class="screen hidden">
    <div class="screen-header">
        <h2 data-lang="gameSettings">Oyun Ayarlarƒ±</h2>
    </div>

    <div class="settings-content">
        <div class="setting-item">
            <div class="setting-header">
                <i class="fas fa-volume-up setting-icon"></i>
                <span class="setting-label" data-lang="volume">Ses Seviyesi</span>
            </div>
            <div class="setting-control">
                <input type="range" min="0" max="100" value="30" class="setting-slider" id="settingsVolumeSlider">
                <span class="setting-value" id="settingsVolumeValue">30</span>
            </div>
        </div>

        <div class="setting-item">
            <div class="setting-header">
                <i class="fas fa-music setting-icon"></i>
                <span class="setting-label" data-lang="soundToggle">Ses A√ß/Kapat</span>
            </div>
            <div class="setting-control">
                <button class="setting-toggle active" id="soundToggleBtn">
                    <span data-lang="soundEnabled">Ses A√ßƒ±k</span>
                </button>
            </div>
        </div>
    </div>

    <button id="backToSettingsMenu" class="menu-btn secondary">
        <i class="fas fa-arrow-left"></i>
        <span data-lang="back">Geri</span>
    </button>
</div>

<div id="rulesScreen" class="screen hidden">
    <div class="screen-header">
        <h2 data-lang="gameRules">Oyun Kurallarƒ±</h2>
    </div>

    <div class="rules-content">
        <div class="rule-item">
            <div class="rule-prefix">
                <i class="fas fa-bullseye"></i>
            </div>
            <p data-lang-rule="1">Ama√ß: 5 harfli gizli kelimeyi 6 denemede bulmak.</p>
        </div>
        <div class="rule-item">
            <div class="rule-prefix">
                <i class="fas fa-keyboard"></i>
            </div>
            <p data-lang-rule="2">Her deneme, 5 harfli anlamlƒ± bir kelime olmalƒ±dƒ±r.</p>
        </div>
        <div class="rule-item">
            <div class="rule-prefix">
                <i class="fas fa-palette"></i>
            </div>
            <p data-lang-rule="3">Tahminden sonra harflerin renkleri size ipucu verir:</p>
        </div>
        
        <div class="rule-item">
            <div class="rule-prefix tile correct rule-tile-display">A</div>
            <p data-lang-rule="4"><b>Ye≈üil:</b> Harf doƒüru ve doƒüru yerde.</p>
        </div>
         <div class="rule-item">
            <div class="rule-prefix tile present rule-tile-display">B</div>
            <p data-lang-rule="5"><b>Sarƒ±:</b> Harf doƒüru ama yanlƒ±≈ü yerde.</p>
        </div>
         <div class="rule-item">
            <div class="rule-prefix tile absent rule-tile-display">C</div>
            <p data-lang-rule="6"><b>Gri:</b> Harf kelimede yok.</p>
        </div>
    </div>

    <button id="backToMenu" class="menu-btn secondary">
        <i class="fas fa-arrow-left"></i>
        <span data-lang-rule="backToMenu">Ana Men√ºye D√∂n</span>
    </button>
  </div>

  <!-- Oyun Men√ºs√º Modal (body seviyesinde) -->
  <div id="gameMenuModal" class="modal">
    <div class="modal-content">
      <h3 data-lang="gameMenuTitle">Oyun Men√ºs√º</h3>

      <div class="settings-content-modal">
        <div class="setting-item">
          <div class="setting-header">
            <i class="fas fa-volume-up setting-icon"></i>
            <span class="setting-label" data-lang="volume">Ses Seviyesi</span>
          </div>
          <div class="setting-control">
            <input type="range" min="0" max="100" class="setting-slider" id="modalVolumeSlider" />
            <span class="setting-value" id="modalVolumeValue">30</span>
          </div>
        </div>
        <div class="setting-item">
          <div class="setting-header">
            <i class="fas fa-music setting-icon"></i>
            <span class="setting-label" data-lang="soundToggle">Ses A√ß/Kapat</span>
          </div>
          <div class="setting-control">
            <button class="setting-toggle" id="modalSoundToggleBtn">
              <span data-lang="soundEnabled">Ses A√ßƒ±k</span>
            </button>
          </div>
        </div>
      </div>

      <div class="modal-buttons">
        <button id="resumeGame" class="menu-btn primary" onclick="resumeGameFromMenu()">
          <i class="fas fa-play"></i>
          <span data-lang="resumeGame">Oyuna Devam Et</span>
        </button>
        <button id="backToMainMenu" class="menu-btn secondary" onclick="backToMainMenuFromMenu()">
          <i class="fas fa-home"></i>
          <span data-lang="back">Geri</span>
        </button>
      </div>
    </div>
  </div>
  </body>

  <!-- Game Script - Load with defer and DOM ready check -->
  <script defer src="script.js"></script>
  <script>
    // Simple inline functions for button clicks
    function startWordleGame() {
      console.log('Start Wordle Game clicked');
      const mainMenu = document.getElementById('mainMenu');
      const gameScreen = document.getElementById('wordleGameScreen');
      if (mainMenu) mainMenu.classList.add('hidden');
      if (gameScreen) gameScreen.classList.remove('hidden');
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_oyun_basladi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'main_menu',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    function showSettingsScreen() {
      console.log('Settings clicked');
      const mainMenu = document.getElementById('mainMenu');
      const settingsScreen = document.getElementById('settingsScreen');
      if (mainMenu) mainMenu.classList.add('hidden');
      if (settingsScreen) settingsScreen.classList.remove('hidden');
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_ayarlar_acildi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'main_menu',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    function showRulesScreen() {
      console.log('Rules clicked');
      const mainMenu = document.getElementById('mainMenu');
      const rulesScreen = document.getElementById('rulesScreen');
      if (mainMenu) mainMenu.classList.add('hidden');
      if (rulesScreen) rulesScreen.classList.remove('hidden');
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_kurallar_acildi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'main_menu',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    // Game control functions
    function openGameMenu() {
      console.log('Game menu clicked');
      const gameScreen = document.getElementById('wordleGameScreen');
      const gameMenuModal = document.getElementById('gameMenuModal');
      if (gameScreen) gameScreen.classList.add('hidden');
      if (gameMenuModal) gameMenuModal.style.display = 'block';
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_oyun_menu_acildi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'in_game',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    function resetWordleGame() {
      console.log('Reset game clicked');
      
      // GA4 Event Tracking - Before reset
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_oyun_yenilendi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'in_game',
          'game_type': 'word_puzzle'
        });
      }
      
      // Use the original game's reset function
      if (window.resetGame) {
        window.resetGame();
        
        // Additional cleanup for our custom styles
        setTimeout(() => {
          const tiles = document.querySelectorAll('.tile');
          tiles.forEach(tile => {
            tile.style.borderColor = '';
            tile.style.boxShadow = '';
            tile.style.transition = '';
          });
        }, 100);
      } else {
        // Fallback: Clear the game board manually with animation
        const tiles = document.querySelectorAll('.tile');
        tiles.forEach((tile, index) => {
          setTimeout(() => {
            tile.style.transition = 'all 0.3s ease';
            tile.style.transform = 'scale(0.8)';
            tile.style.opacity = '0';
            
            setTimeout(() => {
              tile.textContent = '';
              tile.className = 'tile';
              tile.style.borderColor = '';
              tile.style.boxShadow = '';
              tile.style.transform = '';
              tile.style.opacity = '1';
              tile.style.transition = '';
            }, 300);
          }, index * 30); // Stagger the reset animation
        });
        
        // Clear message
        const message = document.getElementById('message');
        if (message) {
          message.style.transition = 'opacity 0.3s ease';
          message.style.opacity = '0';
          setTimeout(() => {
            message.textContent = '';
            message.style.opacity = '1';
            message.style.transition = '';
          }, 300);
        }
        
        // Reset game state (basic reset)
        window.currentWord = '';
        window.currentRow = 0;
        window.currentTile = 0;
        window.gameOver = false;
      }
      
      // Clear input
      const input = document.getElementById('wordleInput');
      if (input) input.value = '';
      
      console.log('Wordle game reset with animation');
    }
    
    // Modal control functions
    function resumeGameFromMenu() {
      console.log('Resume game from menu');
      const gameMenuModal = document.getElementById('gameMenuModal');
      const gameScreen = document.getElementById('wordleGameScreen');
      if (gameMenuModal) gameMenuModal.style.display = 'none';
      if (gameScreen) gameScreen.classList.remove('hidden');
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_oyuna_devam_edildi', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'game_menu',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    function backToMainMenuFromMenu() {
      console.log('Back to main menu from modal');
      const gameMenuModal = document.getElementById('gameMenuModal');
      const mainMenu = document.getElementById('mainMenu');
      if (gameMenuModal) gameMenuModal.style.display = 'none';
      if (mainMenu) mainMenu.classList.remove('hidden');
      
      // GA4 Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'wordle_ana_menuye_donuldu', {
          'game_name': 'wordle',
          'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
          'method': 'button_click',
          'source': 'game_menu',
          'game_type': 'word_puzzle'
        });
      }
    }
    
    // Native keyboard functions
    function focusWordleInput() {
      const input = document.getElementById('wordleInput');
      if (input) {
        // Save current scroll position
        const scrollX = window.pageXOffset || document.documentElement.scrollLeft;
        const scrollY = window.pageYOffset || document.documentElement.scrollTop;
        
        // Focus the input
        input.focus();
        
        // Restore scroll position immediately
        setTimeout(() => {
          window.scrollTo(scrollX, scrollY);
          document.body.scrollTop = scrollY;
          document.documentElement.scrollTop = scrollY;
        }, 0);
        
        // Prevent zoom on iOS
        input.style.fontSize = '16px';
      }
    }
    
    function setupNativeKeyboard() {
      const input = document.getElementById('wordleInput');
      if (!input) return;
      
      // Handle input events
      input.addEventListener('input', function(e) {
        const value = e.target.value.toUpperCase();
        
        // Clear current input to prevent accumulation
        e.target.value = '';
        
        // Add each letter using the original game's addLetter function
        for (let i = 0; i < value.length; i++) {
          if (window.addLetter) {
            window.addLetter(value[i]);
          } else {
            // Fallback: manually add to tiles
            const currentRow = getCurrentRow();
            const tiles = currentRow.querySelectorAll('.tile');
            let emptyTile = Array.from(tiles).find(tile => !tile.textContent);
            if (emptyTile) {
              emptyTile.textContent = value[i];
              emptyTile.classList.add('filled');
            }
          }
        }
      });
      
      // Handle backspace
      input.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          
          // Check if game is over
          if (window.gameOver) {
            console.log('Game over, resetting game');
            resetWordleGame();
            return;
          }
          
          submitWord();
          // Don't clear input here - let submitWord handle it
        } else if (e.key === 'Backspace') {
          e.preventDefault();
          // Use the original game's deleteLetter function
          if (window.deleteLetter) {
            window.deleteLetter();
          } else {
            // Fallback: manual backspace handling
            const currentRow = getCurrentRow();
            const tiles = currentRow.querySelectorAll('.tile');
            const filledTiles = Array.from(tiles).filter(tile => tile.textContent);
            if (filledTiles.length > 0) {
              const lastTile = filledTiles[filledTiles.length - 1];
              lastTile.textContent = '';
              lastTile.classList.remove('filled');
            }
          }
        }
      });
      
      // Prevent scroll on focus and during typing
      input.addEventListener('focus', function() {
        setTimeout(() => {
          window.scrollTo(0, 0);
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }, 100);
      });
      
      // Prevent scroll on game board click
      const gameBoard = document.getElementById('game-board');
      if (gameBoard) {
        gameBoard.addEventListener('click', function(e) {
          e.preventDefault();
          focusWordleInput();
        });
      }
      
      // Auto-focus when game starts
      setTimeout(() => {
        focusWordleInput();
      }, 500);
    }
    
    function getCurrentRow() {
      // Use the original script's currentRow variable
      if (window.currentRow !== undefined && window.rows) {
        return window.rows[window.currentRow];
      }
      
      // Fallback to our own logic
      const rows = document.querySelectorAll('#game-board .row');
      for (let row of rows) {
        const tiles = row.querySelectorAll('.tile');
        const isEmpty = Array.from(tiles).every(tile => !tile.textContent);
        if (!isEmpty) {
          // Check if this row is complete
          const isComplete = Array.from(tiles).every(tile => tile.textContent);
          if (!isComplete) {
            return row; // Current incomplete row
          }
        }
      }
      // Find first empty row
      for (let row of rows) {
        const tiles = row.querySelectorAll('.tile');
        const isEmpty = Array.from(tiles).every(tile => !tile.textContent);
        if (isEmpty) {
          return row;
        }
      }
      return rows[0]; // Fallback to first row
    }
    
    function submitWord() {
      const currentRow = getCurrentRow();
      const tiles = currentRow.querySelectorAll('.tile');
      const word = Array.from(tiles).map(tile => tile.textContent).join('');
      
      if (word.length === 5) {
        console.log('Submitting word:', word);
        
        // GA4 Event Tracking - Word submission
        if (typeof gtag !== 'undefined') {
          gtag('event', 'wordle_kelime_gonderildi', {
            'game_name': 'wordle',
            'game_full_name': 'Wordle - Kelime Tahmin Oyunu',
            'method': 'enter_key',
            'word_length': word.length,
            'current_row': window.currentRow || 1,
            'game_type': 'word_puzzle'
          });
        }
        
        // Trigger the original game's checkRow function
        if (window.checkRow) {
          window.checkRow();
          // Clear input after successful submission
          const input = document.getElementById('wordleInput');
          if (input) {
            input.value = '';
          }
          
          // Add row transition animation after delay
          setTimeout(() => {
            addRowTransitionAnimation();
          }, 1500); // Wait for color animations to complete
        } else {
          console.log('checkRow function not found, trying submitWord');
          // Fallback to submitWord if checkRow doesn't exist
          if (window.submitWord) {
            window.submitWord(word);
            const input = document.getElementById('wordleInput');
            if (input) {
              input.value = '';
            }
          }
        }
      }
    }
    
    function addRowTransitionAnimation() {
      // Use original script's currentRow to get the next row
      if (window.currentRow !== undefined && window.rows && window.currentRow < 6) {
        const nextRow = window.rows[window.currentRow];
        if (nextRow) {
          const tiles = nextRow.querySelectorAll('.tile');
          const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe'];
          
          tiles.forEach((tile, index) => {
            setTimeout(() => {
              // Cycle through colors
              const colorIndex = index % colors.length;
              const color = colors[colorIndex];
              
              tile.style.transition = 'border-color 0.3s ease, box-shadow 0.3s ease';
              tile.style.borderColor = color;
              tile.style.boxShadow = `0 0 15px ${color}40, inset 0 0 10px ${color}20`;
              
              // Create pulsing effect
              let pulseCount = 0;
              const pulseInterval = setInterval(() => {
                pulseCount++;
                if (pulseCount % 2 === 0) {
                  tile.style.borderColor = color;
                  tile.style.boxShadow = `0 0 15px ${color}40, inset 0 0 10px ${color}20`;
                } else {
                  tile.style.borderColor = `${color}80`;
                  tile.style.boxShadow = `0 0 8px ${color}20, inset 0 0 5px ${color}10`;
                }
                
                // Stop after 1 second
                if (pulseCount >= 4) {
                  clearInterval(pulseInterval);
                  // Fade out
                  setTimeout(() => {
                    tile.style.transition = 'border-color 0.3s ease, box-shadow 0.3s ease';
                    tile.style.borderColor = '';
                    tile.style.boxShadow = '';
                  }, 100);
                }
              }, 250); // Pulse every 250ms
            }, index * 50); // Stagger the animation
          });
        }
      }
    }
    
    // Key Events Analytics
    const keyAnalytics = {
      totalKeys: 0,
      backspaceCount: 0,
      enterCount: 0,
      sessionStart: Date.now(),
      keyFrequency: {},
      
      trackKey(key) {
        this.totalKeys++;
        
        if (key === 'Backspace') {
          this.backspaceCount++;
        } else if (key === 'Enter') {
          this.enterCount++;
        }
        
        // Track letter frequency
        if (key.length === 1 && key.match(/[A-Z√áƒ∞ƒû√ñ≈û√ú]/)) {
          this.keyFrequency[key] = (this.keyFrequency[key] || 0) + 1;
        }
        
        console.log(`üìä Key Analytics: Total=${this.totalKeys}, Backspace=${this.backspaceCount}, Enter=${this.enterCount}, Key=${key}`);
      },
      
      getStats() {
        const sessionTime = Math.floor((Date.now() - this.sessionStart) / 1000);
        return {
          totalKeys: this.totalKeys,
          backspaceCount: this.backspaceCount,
          enterCount: this.enterCount,
          sessionTime: sessionTime,
          keysPerMinute: Math.round((this.totalKeys / sessionTime) * 60),
          backspaceRate: Math.round((this.backspaceCount / this.totalKeys) * 100),
          keyFrequency: this.keyFrequency
        };
      },
      
      sendToAnalytics() {
        const stats = this.getStats();
        
        // Send to Google Analytics
        if (window.gtag) {
          gtag('event', 'wordle_key_stats', {
            'total_keys': stats.totalKeys,
            'backspace_count': stats.backspaceCount,
            'enter_count': stats.enterCount,
            'session_time': stats.sessionTime,
            'keys_per_minute': stats.keysPerMinute,
            'backspace_rate': stats.backspaceRate
          });
        }
        
        // Send to Firebase if available
        try {
          const user = firebase.auth().currentUser;
          if (user && window.gameistAuth) {
            const database = firebase.database();
            database.ref(`analytics/${user.uid}/wordle_key_events`).push({
              stats: stats,
              timestamp: Date.now(),
              game: 'wordle'
            });
          }
        } catch (error) {
          console.log('Analytics send error:', error);
        }
        
        console.log('üìà Analytics Stats:', stats);
      }
    };
    
    // Track key events
    document.addEventListener('keydown', function(e) {
      if (document.getElementById('wordleGameScreen').classList.contains('hidden')) return;
      
      keyAnalytics.trackKey(e.key);
    });
    
    // Send analytics every 30 seconds
    setInterval(() => {
      keyAnalytics.sendToAnalytics();
    }, 30000);
    
    // Send analytics on page unload
    window.addEventListener('beforeunload', () => {
      keyAnalytics.sendToAnalytics();
    });
    
    // Console command to view stats
    window.getKeyStats = () => {
      console.log('üìä Key Event Analytics:', keyAnalytics.getStats());
    };
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, setting up fallback button handlers');
      
      // Setup native keyboard
      setupNativeKeyboard();
      
      // Start Game button
      const startBtn = document.getElementById('startGame');
      if (startBtn) {
        startBtn.addEventListener('click', function() {
          console.log('Start button clicked');
          const mainMenu = document.getElementById('mainMenu');
          const gameScreen = document.getElementById('wordleGameScreen');
          if (mainMenu) mainMenu.classList.add('hidden');
          if (gameScreen) gameScreen.classList.remove('hidden');
        });
      }
      
      // Settings button
      const settingsBtn = document.getElementById('showSettings');
      if (settingsBtn) {
        settingsBtn.addEventListener('click', function() {
          console.log('Settings button clicked');
          const mainMenu = document.getElementById('mainMenu');
          const settingsScreen = document.getElementById('settingsScreen');
          if (mainMenu) mainMenu.classList.add('hidden');
          if (settingsScreen) settingsScreen.classList.remove('hidden');
        });
      }
      
      // Rules button
      const rulesBtn = document.getElementById('showRules');
      if (rulesBtn) {
        rulesBtn.addEventListener('click', function() {
          console.log('Rules button clicked');
          const mainMenu = document.getElementById('mainMenu');
          const rulesScreen = document.getElementById('rulesScreen');
          if (mainMenu) mainMenu.classList.add('hidden');
          if (rulesScreen) rulesScreen.classList.remove('hidden');
        });
      }
    });
  </script>
</html>
